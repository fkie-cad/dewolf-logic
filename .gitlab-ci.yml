stages:
  - test

run-tests:
  stage: test
  image: python:3.8
  before_script:
    - pip install -r requirements.txt
  script:
    - black --check .
    - mypy -p simplifier
    - pydocstyle
    - isort -c .
    - coverage run --source . -m pytest
  after_script:
    - coverage report
    - coverage xml
  artifacts:
    reports:
      cobertura: coverage.xml

